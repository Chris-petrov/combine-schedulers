<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CombineSchedulers - run()</title>
    <link rel="stylesheet" type="text/css" href="/combine-schedulers/all.css" media="all" />
</head>
<body>
    <header>
        <a href="/combine-schedulers/">
            <strong>
                CombineSchedulers
            </strong>
            <span>Documentation</span>
        </a>
    </header>

    <!--
    <form class="search">
        <input type="search" placeholder="Search" />
    </form>
    -->

    <nav>
        <div class="wrapper">
            <h2>On This Page</h2>
            <ol/>
        </div>
    </nav>

    <main>
        <article>
            <h1>
<small>Function</small>
<span class="name">run()</span>
</h1>

<div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">func</span> <span class="function">run</span>()  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Runs the scheduler until it has no scheduled items left.</p>

</div>
<div class="discussion">
    <p>This method is useful for proving exhaustively that your publisher eventually completes
and does not run forever. For example, the following code will run an infinite loop forever
because the timer never finishes:</p>

<html><body><pre class="highlight"><code><span class="keyword">let</span> <span class="variable">scheduler</span> = <span class="variable">DispatchQueue</span>.<span class="variable">test</span>
<span class="variable">Publishers</span>.<span class="type">Timer</span>(<span class="variable">every</span>: .<span class="variable">seconds</span>(<span class="number literal">1</span>), <span class="variable">scheduler</span>: <span class="type">scheduler</span>)
  .<span class="variable">autoconnect</span>()
  .<span class="variable">sink</span> { <span class="keyword">_</span> <span class="keyword">in</span> <span class="variable">print</span>(<span class="variable">$0</span>) }
  .<span class="variable">store</span>(<span class="variable">in</span>: &amp;<span class="variable">cancellables</span>)

<span class="variable">scheduler</span>.<span class="variable">run</span>() <span class="comment">// Will never complete</span>
</code></pre></body></html>
<p>If you wanted to make sure that this publisher eventually completes you would need to
chain on another operator that completes it when a certain condition is met. This can be
done in many ways, such as using <code>prefix</code>:</p>

<html><body><pre class="highlight"><code><span class="keyword">let</span> <span class="variable">scheduler</span> = <span class="variable">DispatchQueue</span>.<span class="variable">test</span>
<span class="variable">Publishers</span>.<span class="type">Timer</span>(<span class="variable">every</span>: .<span class="variable">seconds</span>(<span class="number literal">1</span>), <span class="variable">scheduler</span>: <span class="type">scheduler</span>)
  .<span class="variable">autoconnect</span>()
  .<span class="variable">prefix</span>(<span class="number literal">3</span>)
  .<span class="variable">sink</span> { <span class="keyword">_</span> <span class="keyword">in</span> <span class="variable">print</span>(<span class="variable">$0</span>) }
  .<span class="variable">store</span>(<span class="variable">in</span>: &amp;<span class="variable">cancellables</span>)

<span class="variable">scheduler</span>.<span class="variable">run</span>() <span class="comment">// Prints 3 times and completes.</span>
</code></pre></body></html>
</div>
<div class="declaration">
<pre class="highlight"><code><html><body><span class="attribute">@</span><span class="type">MainActor</span>
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">run</span>() </body></html></code></pre>
</div>
        </article>
    </main>

    <footer>
        <p>
    Generated on <time datetime="2022-09-12T14:48:43+0000">September 12, 2022</time> using <a href="https://github.com/SwiftDocOrg/swift-doc">swift-doc</a> <span class="version">1.0.0-rc.1</span>.
</p>
    </footer>
</body>
</html>
